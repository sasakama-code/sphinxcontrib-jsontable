/**
 * sphinxcontrib-jsontable sorting styles
 * 
 * CSS styles for table sorting functionality
 * Compatible with Sphinx default themes and RTD theme
 */

/* Sortable table headers */
.jsontable th[data-sortable="true"],
table[data-sortable="true"] th,
table.jsontable th {
    cursor: pointer;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    position: relative;
    padding-right: 2em;
}

/* Sort indicator positioning */
.sort-indicator {
    position: absolute;
    right: 0.5em;
    top: 50%;
    transform: translateY(-50%);
    font-size: 0.8em;
    color: #666;
    opacity: 0.7;
    transition: opacity 0.2s ease;
}

/* Hover effects */
.jsontable th:hover .sort-indicator,
table[data-sortable="true"] th:hover .sort-indicator,
table.jsontable th:hover .sort-indicator {
    opacity: 1;
    color: #333;
}

/* Active sort indicator */
.sort-indicator[data-sort="asc"],
.sort-indicator[data-sort="desc"] {
    opacity: 1;
    color: #2980b9;
    font-weight: bold;
}

/* Hover effect for sortable headers */
.jsontable th:hover,
table[data-sortable="true"] th:hover,
table.jsontable th:hover {
    background-color: #f8f9fa;
}

/* Dark theme support */
@media (prefers-color-scheme: dark) {
    .sort-indicator {
        color: #ccc;
    }
    
    .jsontable th:hover .sort-indicator,
    table[data-sortable="true"] th:hover .sort-indicator,
    table.jsontable th:hover .sort-indicator {
        color: #fff;
    }
    
    .sort-indicator[data-sort="asc"],
    .sort-indicator[data-sort="desc"] {
        color: #3498db;
    }
    
    .jsontable th:hover,
    table[data-sortable="true"] th:hover,
    table.jsontable th:hover {
        background-color: #2c3e50;
    }
}

/* RTD theme compatibility */
.rst-content table.jsontable th,
.rst-content .jsontable th {
    border-bottom: 2px solid #e1e4e5;
}

.rst-content table.jsontable th:hover,
.rst-content .jsontable th:hover {
    background-color: #f8f9fa;
}

/* Sphinx default theme compatibility */
.sphinxsidebar table.jsontable th,
.body table.jsontable th {
    background-color: #f2f2f2;
    border: 1px solid #aaa;
}

.sphinxsidebar table.jsontable th:hover,
.body table.jsontable th:hover {
    background-color: #e6e6e6;
}

/* Ensure proper spacing for sort indicators */
.jsontable th,
table[data-sortable="true"] th,
table.jsontable th {
    white-space: nowrap;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
    .sort-indicator {
        right: 0.3em;
        font-size: 0.7em;
    }
    
    .jsontable th,
    table[data-sortable="true"] th,
    table.jsontable th {
        padding-right: 1.5em;
    }
}

/* Accessibility improvements */
.jsontable th:focus,
table[data-sortable="true"] th:focus,
table.jsontable th:focus {
    outline: 2px solid #2980b9;
    outline-offset: 2px;
}

/* Loading state (for future enhancement) */
.jsontable.sorting,
table[data-sortable="true"].sorting,
table.jsontable.sorting {
    opacity: 0.7;
    pointer-events: none;
}

/* Performance optimization - will-change for animations */
.sort-indicator {
    will-change: opacity, color;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .sort-indicator {
        color: #000;
    }
    
    .sort-indicator[data-sort="asc"],
    .sort-indicator[data-sort="desc"] {
        color: #0000ff;
    }
    
    .jsontable th:hover,
    table[data-sortable="true"] th:hover,
    table.jsontable th:hover {
        background-color: #ffff00;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .sort-indicator {
        transition: none;
    }
}