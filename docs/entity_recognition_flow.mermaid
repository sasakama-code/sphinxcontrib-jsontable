graph LR
    A[日本語テキスト入力] --> B[Unicode正規化]
    B --> C[エンティティ検出エンジン]
    
    C --> D[人名認識]
    C --> E[地名認識]
    C --> F[組織名認識]
    C --> G[ビジネス用語認識]
    
    D --> D1[田中太郎]
    D --> D2[佐藤花子]
    D --> D3[山田次郎]
    
    E --> E1[東京都]
    E --> E2[大阪市]
    E --> E3[新宿駅]
    
    F --> F1[株式会社○○]
    F --> F2[○○部]
    F --> F3[経済産業省]
    
    G --> G1[売上高]
    G --> G2[営業利益]
    G --> G3[ROI/KPI]
    
    D1 --> H[エンティティメタデータ]
    D2 --> H
    D3 --> H
    E1 --> H
    E2 --> H
    E3 --> H
    F1 --> H
    F2 --> H
    F3 --> H
    G1 --> H
    G2 --> H
    G3 --> H
    
    H --> I[信頼度スコア付与]
    I --> J[ファセット生成]
    J --> K[検索インデックス最適化]
    
    style A fill:#e1f5fe
    style C fill:#fff3e0
    style H fill:#e8f5e8
    style K fill:#f3e5f5